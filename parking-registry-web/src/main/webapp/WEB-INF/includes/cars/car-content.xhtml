<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:form id="form">
        <p:dataTable id="cars" var="car" value="#{carBean.cars}" rowKey="#{car.licensePlateNumber}"
                     selection="#{carBean.selectedCar}" selectionMode="single">
            <f:facet name="header">
                RightClick to View Options
            </f:facet>
            <p:column headerText="License Plate Number">
                <h:outputText value="#{car.licensePlateNumber}"/>
            </p:column>
            <p:column headerText="Year">
                <h:outputText value="#{car.year}"/>
            </p:column>
            <p:column headerText="Brand">
                <h:outputText value="#{car.brand}"/>
            </p:column>
            <p:column headerText="Type">
                <h:outputText value="#{car.type}"/>
            </p:column>
            <p:column headerText="Color">
                <h:outputText value="#{car.color}"/>
            </p:column>
        </p:dataTable>

        <p:contextMenu for="cars">
            <p:menuitem value="Delete" update="cars" icon="ui-icon-close"
                        actionListener="#{carListingBean.onDeleteCar}"/>
        </p:contextMenu>

        <p:dialog header="Car Info" widgetVar="carDialog" modal="true" showEffect="fade" hideEffect="fade"
                  resizable="false">
            <p:outputPanel id="carDetail" style="text-align:center;">
                <p:panelGrid columns="2" rendered="#{not empty carBean.selectedCar}"
                             columnClasses="label,value">
                    <f:facet name="header">
                        <p:graphicImage name="demo/images/car/#{carBean.selectedCar.brand}-big.gif"/>
                    </f:facet>

                    <h:outputText value="Id:"/>
                    <h:outputText value="#{carBean.selectedCar.id}"/>

                    <h:outputText value="Year"/>
                    <h:outputText value="#{carBean.selectedCar.year}"/>

                    <h:outputText value="Color:"/>
                    <h:outputText value="#{carBean.selectedCar.color}"
                                  style="color:#{carBean.selectedCar.color}"/>

                    <h:outputText value="Price"/>
                    <h:outputText value="$#{carBean.selectedCar.price}"/>
                </p:panelGrid>
            </p:outputPanel>
        </p:dialog>
    </h:form>

</ui:composition>